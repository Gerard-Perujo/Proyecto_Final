CREATE DATABASE Proyecto_Final;
USE Proyecto_Final;

CREATE TABLE CATEGORIAS
(ID_CATEGORIA INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
NOMBRE VARCHAR(45) NOT NULL,
DESCRIPCION VARCHAR(200)
);

INSERT INTO `CATEGORIAS` (`ID_CATEGORIA`,`NOMBRE`,`DESCRIPCION`) values (1, 'Verduras', 'Todo tipo de verduras y hortalizas');
INSERT INTO `CATEGORIAS` (`ID_CATEGORIA`,`NOMBRE`,`DESCRIPCION`) values (2, 'Fruta', 'Tipos de fruta de todo el mundo');
INSERT INTO `CATEGORIAS` (`ID_CATEGORIA`,`NOMBRE`,`DESCRIPCION`) values (3, 'Productos Varios', 'Productos varios de Km0');


CREATE TABLE CUENTA_PROVEEDOR
(ID_CUENTA INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
NOMBRE VARCHAR(100),
NUMERO_CUENTA VARCHAR(100),
SALDO DOUBLE(9,2)
);

INSERT INTO `CUENTA_PROVEEDOR`(`ID_CUENTA`, `NOMBRE`, `NUMERO_CUENTA`, `SALDO`) VALUES (1, 'Caja Madrid', 'ES50-2100-30-00001298536', 100000);
INSERT INTO `CUENTA_PROVEEDOR`(`ID_CUENTA`, `NOMBRE`, `NUMERO_CUENTA`, `SALDO`) VALUES (2, 'BBVA', 'ES30-2100-10-00006598547', 150000);
INSERT INTO `CUENTA_PROVEEDOR`(`ID_CUENTA`, `NOMBRE`, `NUMERO_CUENTA`, `SALDO`) VALUES (3, 'La Caixa', 'ES10-2100-20-00009832547', 200000);

CREATE TABLE PROVEEDOR 
(ID_PROVEEDOR INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
NOMBRE VARCHAR(100),
POBLACION VARCHAR(100),
CALLE VARCHAR(100),
NUMERO INT,
CP INT,
EMAIL VARCHAR(100),
FECHA_ALTA DATE,
ID_CUENTA INT,
FOREIGN KEY (ID_CUENTA) REFERENCES CUENTA_PROVEEDOR(ID_CUENTA)
);

INSERT INTO `PROVEEDOR`(`ID_PROVEEDOR`, `NOMBRE`, `POBLACION`, `CALLE`, `NUMERO`, `CP`, `EMAIL`, `FECHA_ALTA`, `ID_CUENTA`) VALUES (1, 'Verduras Madrid', 'Madrid', 'Pol.Industrial Guadalajara', 101, 28001, 'VerduraMadrid@info.com', '2024-03-18', 1);
INSERT INTO `PROVEEDOR`(`ID_PROVEEDOR`, `NOMBRE`, `POBLACION`, `CALLE`, `NUMERO`, `CP`, `EMAIL`, `FECHA_ALTA`, `ID_CUENTA`) VALUES (2, 'Frutas Lopez', 'Leganes', 'Pol.Industrial Leganes', 130, 28910, 'FrutasLopez@info.com', '2024-03-18', 2);
INSERT INTO `PROVEEDOR`(`ID_PROVEEDOR`, `NOMBRE`, `POBLACION`, `CALLE`, `NUMERO`, `CP`, `EMAIL`, `FECHA_ALTA`, `ID_CUENTA`) VALUES (3, 'Variedades Juan', 'Tres Cantos', 'Pol.Industrial Tres Cantos', 50, 28760, 'VariedadesJuan@info.com', '2024-03-18', 3);

CREATE TABLE PRODUCTOS_PROVEEDOR
(ID_PRODUCTO INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
NOMBRE VARCHAR(50) NOT NULL,
DESCRIPCION VARCHAR(200),
IMAGEN VARCHAR(200),
ESTADO VARCHAR(20), -- ESTE ESTADO "A" , "D",  ES PARA DISCRIMINAR DE LOS PRODUCTOS QUE TENEMOS EN LA TIENDA -- 
CANTIDAD_MAXIMA INT, -- CANTIDAD MAXIMA DE CADA PRODUCTO QUE HAY EN LA TIENDA --
PRECIO_UNITARIO DOUBLE(9,2),
ID_PROVEEDOR INT NOT NULL,
FOREIGN KEY (ID_PROVEEDOR) REFERENCES PROVEEDOR(ID_PROVEEDOR)
);

INSERT INTO `PRODUCTOS_PROVEEDOR`(`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_PROVEEDOR`) VALUES (1, 'Mandarina', 'Mandarinas de Valencia', 'null', 'a', 300, 0.17, 2);
INSERT INTO `PRODUCTOS_PROVEEDOR`(`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_PROVEEDOR`) VALUES (2, 'Manzana Roja', 'Manzanas Rojas del Pais Vasco', 'null', 'a', 500, 0.32, 2);
INSERT INTO `PRODUCTOS_PROVEEDOR`(`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_PROVEEDOR`) VALUES (3, 'Platano de Canarias', 'Platanos de Canarias', 'null', 'a', 600, 0.27, 2);
INSERT INTO `PRODUCTOS_PROVEEDOR`(`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_PROVEEDOR`) VALUES (4, 'Granada Roja', 'Granada Roja de Alicante', 'null', 'a', 200, 1.54, 2);
INSERT INTO `PRODUCTOS_PROVEEDOR`(`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_PROVEEDOR`) VALUES (5, 'Pera Conferencia', 'Peras de Conferencia del Valle del Ebro', 'null', 'a', 400, 0.60, 2);
INSERT INTO `PRODUCTOS_PROVEEDOR`(`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_PROVEEDOR`) VALUES (6, 'Mango', 'Mango de Andalucia', 'null', 'a', 200, 2.27, 2);
INSERT INTO `PRODUCTOS_PROVEEDOR`(`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_PROVEEDOR`) VALUES (7, 'Melocoton Amarillo', 'Melocotones de Lerida', 'null', 'a', 800, 0.28, 2);
INSERT INTO `PRODUCTOS_PROVEEDOR`(`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_PROVEEDOR`) VALUES (8, 'Ciruela', 'Ciruelas de Murcia', 'null', 'a', 500, 0.60, 2);
INSERT INTO `PRODUCTOS_PROVEEDOR`(`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_PROVEEDOR`) VALUES (9, 'Uva', 'Uvas de Turquia', 'null', 'a', 600, 0.70, 2);
INSERT INTO `PRODUCTOS_PROVEEDOR`(`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_PROVEEDOR`) VALUES (10, 'Acelga', 'Acelgas de Malaga', 'null', 'a', 800, 0.60, 1);
INSERT INTO `PRODUCTOS_PROVEEDOR`(`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_PROVEEDOR`) VALUES (11, 'Apio', 'Apio de Valencia', 'null', 'a', 300, 0.90, 1);
INSERT INTO `PRODUCTOS_PROVEEDOR`(`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_PROVEEDOR`) VALUES (12, 'Calabaza', 'Calabaza de Sevilla', 'null', 'a', 500, 1.40, 1);
INSERT INTO `PRODUCTOS_PROVEEDOR`(`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_PROVEEDOR`) VALUES (13, 'Patata', 'Patatas de Castilla y Leon', 'null', 'a', 600, 0.27, 1);
INSERT INTO `PRODUCTOS_PROVEEDOR`(`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_PROVEEDOR`) VALUES (14, 'Puerro', 'Puerros de Navarra', 'null', 'a', 200, 0.12, 1);
INSERT INTO `PRODUCTOS_PROVEEDOR`(`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_PROVEEDOR`) VALUES (15, 'Cebolla', 'Cebollas de Levante', 'null', 'a', 400, 0.15, 1);
INSERT INTO `PRODUCTOS_PROVEEDOR`(`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_PROVEEDOR`) VALUES (16, 'Zanahoria', 'Zanahorias de Cadiz', 'null', 'a', 200, 0.12, 1);
INSERT INTO `PRODUCTOS_PROVEEDOR`(`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_PROVEEDOR`) VALUES (17, 'Tomate', 'Tomate de Extremadura', 'null', 'a', 800, 0.86, 1);
INSERT INTO `PRODUCTOS_PROVEEDOR`(`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_PROVEEDOR`) VALUES (18, 'Colifor', 'Coliflor de Murcia', 'null', 'a', 500, 3.60, 1);
INSERT INTO `PRODUCTOS_PROVEEDOR`(`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_PROVEEDOR`) VALUES (19, 'Calabacin', 'Calabacin de Almeria', 'null', 'a', 600, 0.40, 1);
INSERT INTO `PRODUCTOS_PROVEEDOR`(`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_PROVEEDOR`) VALUES (20, 'Berenjena', 'Berenjenas de Almeria', 'null', 'a', 800, 0.78, 1);
INSERT INTO `PRODUCTOS_PROVEEDOR`(`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_PROVEEDOR`) VALUES (21, 'Queso Grana Padano', 'Queso procedente de Padana Italia', 'null', 'a', 800, 2.89, 3);
INSERT INTO `PRODUCTOS_PROVEEDOR`(`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_PROVEEDOR`) VALUES (22, 'Leche Asturiana', 'Leche procedencia de Asturias', 'null', 'a', 300, 1.19, 3);
INSERT INTO `PRODUCTOS_PROVEEDOR`(`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_PROVEEDOR`) VALUES (23, 'Arroz de Pals', 'Arroz procedencia de Pals', 'null', 'a', 500, 3.25, 3);
INSERT INTO `PRODUCTOS_PROVEEDOR`(`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_PROVEEDOR`) VALUES (24, 'Jamon Serrano', 'Jamon Serrano el Pozo', 'null', 'a', 600, 6.50, 3);
INSERT INTO `PRODUCTOS_PROVEEDOR`(`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_PROVEEDOR`) VALUES (25, 'Jamon York', 'Jamon York el Pozo', 'null', 'a', 200, 1.50, 3);
INSERT INTO `PRODUCTOS_PROVEEDOR`(`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_PROVEEDOR`) VALUES (26, 'Pasta Barilla', 'Pasta Procedencia Italiana', 'null', 'a', 400, 1.79, 3);
INSERT INTO `PRODUCTOS_PROVEEDOR`(`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_PROVEEDOR`) VALUES (27, 'Miel', 'Madrid Miel', 'null', 'a', 200, 6.30, 3);
INSERT INTO `PRODUCTOS_PROVEEDOR`(`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_PROVEEDOR`) VALUES (28, 'Nueces', 'Nueces de Cataluña', 'null', 'a', 800, 0.03, 3);
INSERT INTO `PRODUCTOS_PROVEEDOR`(`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_PROVEEDOR`) VALUES (29, 'Almendras', 'Almendras de Andalucia', 'null', 'a', 500, 0.12, 3);
INSERT INTO `PRODUCTOS_PROVEEDOR`(`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_PROVEEDOR`) VALUES (30, 'Cacahuetes', 'Cacahuetes de Huelva', 'null', 'a', 600, 0.02, 3);


CREATE TABLE PRODUCTOS
(ID_PRODUCTO INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
NOMBRE VARCHAR(50) NOT NULL,
DESCRIPCION VARCHAR(200),
IMAGEN VARCHAR(200),
ESTADO VARCHAR(20), -- ESTE ESTADO "A" , "D",  ES PARA DISCRIMINAR DE LOS PRODUCTOS QUE TENEMOS EN LA TIENDA -- 
VALORACION VARCHAR(200),
CANTIDAD_MAXIMA INT, -- CANTIDAD MAXIMA DE CADA PRODUCTO QUE HAY EN LA TIENDA --
PRECIO_UNITARIO DOUBLE(9,2),
ID_CATEGORIA INT NOT NULL,
ID_PROVEEDOR INT NOT NULL,
FOREIGN KEY(ID_CATEGORIA) REFERENCES CATEGORIAS(ID_CATEGORIA),
FOREIGN KEY(ID_PROVEEDOR) REFERENCES PROVEEDOR(ID_PROVEEDOR)
);

INSERT INTO `PRODUCTOS` (`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `VALORACION`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_CATEGORIA`, `ID_PROVEEDOR`) VALUES (1, 'Mandarina', 'Mandarinas de Valencia', 'null', 'a', '9/10', 300, 0.30, 2, 2);
INSERT INTO `PRODUCTOS` (`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `VALORACION`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_CATEGORIA`, `ID_PROVEEDOR`) VALUES (2, 'Manzana Roja', 'Manzanas Rojas del Pais Vasco', 'null',  'a', '8/10',500, 0.40, 2, 2);
INSERT INTO `PRODUCTOS` (`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `VALORACION`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_CATEGORIA`, `ID_PROVEEDOR`) VALUES (3, 'Platano de Canarias', 'Platanos de Canarias', 'null', 'a', '8.5/10', 600, 0.50, 2, 2);
INSERT INTO `PRODUCTOS` (`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `VALORACION`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_CATEGORIA`, `ID_PROVEEDOR`) VALUES (4, 'Granada Roja', 'Granada Roja de Alicante', 'null', 'a', '7/10', 200, 1.90, 2, 2);
INSERT INTO `PRODUCTOS` (`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `VALORACION`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_CATEGORIA`, `ID_PROVEEDOR`) VALUES (5, 'Pera Conferencia', 'Peras de Conferencia del Valle del Ebro',  'null', 'a', '8.5/10',400, 0.80, 2, 2);
INSERT INTO `PRODUCTOS` (`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `VALORACION`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_CATEGORIA`, `ID_PROVEEDOR`) VALUES (6, 'Mango', 'Mango de Andalucia', 'null',  'a', '8/10', 200, 2.40, 2, 2);
INSERT INTO `PRODUCTOS` (`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `VALORACION`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_CATEGORIA`, `ID_PROVEEDOR`) VALUES (7, 'Melocoton Amarillo', 'Melocotones de Lerida', 'null', 'a', '7/10', 800, 0.40, 2, 2);
INSERT INTO `PRODUCTOS` (`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `VALORACION`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_CATEGORIA`, `ID_PROVEEDOR`) VALUES (8, 'Ciruela', 'Ciruelas de Murcia', 'null', 'a', '6/10', 500, 0.80, 2, 2);
INSERT INTO `PRODUCTOS` (`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `VALORACION`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_CATEGORIA`, `ID_PROVEEDOR`) VALUES (9, 'Uva', 'Uvas de Turquia', 'null', 'a', '8/10', 600, 0.90, 2, 2);
INSERT INTO `PRODUCTOS` (`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `VALORACION`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_CATEGORIA`, `ID_PROVEEDOR`) VALUES (10, 'Acelga', 'Acelgas de Malaga', 'null', 'a', '9/10', 800, 0.60, 1, 1);
INSERT INTO `PRODUCTOS` (`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `VALORACION`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_CATEGORIA`, `ID_PROVEEDOR`) VALUES (11, 'Apio', 'Apio de Valencia', 'null', 'a', '8/10', 300, 0.90, 1, 1);
INSERT INTO `PRODUCTOS` (`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `VALORACION`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_CATEGORIA`, `ID_PROVEEDOR`) VALUES (12, 'Calabaza', 'Calabaza de Sevilla', 'null', 'a', '7.5/10', 500, 1.90, 1, 1);
INSERT INTO `PRODUCTOS` (`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `VALORACION`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_CATEGORIA`, `ID_PROVEEDOR`) VALUES (13, 'Patata', 'Patatas de Castilla y Leon', 'null', 'a', '7/10', 600, 0.40, 1, 1);
INSERT INTO `PRODUCTOS` (`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `VALORACION`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_CATEGORIA`, `ID_PROVEEDOR`) VALUES (14, 'Puerro', 'Puerros de Navarra', 'null',  'a', '6/10', 200, 0.30, 1, 1);
INSERT INTO `PRODUCTOS` (`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `VALORACION`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_CATEGORIA`, `ID_PROVEEDOR`) VALUES (15, 'Cebolla', 'Cebollas de Levante', 'null', 'a', '7.5/10', 400, 0.30, 1, 1);
INSERT INTO `PRODUCTOS` (`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `VALORACION`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_CATEGORIA`, `ID_PROVEEDOR`) VALUES (16, 'Zanahoria', 'Zanahorias de Cadiz', 'null', 'a', '7/10', 200, 0.30, 1, 1);
INSERT INTO `PRODUCTOS` (`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `VALORACION`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_CATEGORIA`, `ID_PROVEEDOR`) VALUES (17, 'Tomate', 'Tomate de Extremadura', 'null', 'a', '8/10', 800, 1.00, 1, 1);
INSERT INTO `PRODUCTOS` (`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `VALORACION`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_CATEGORIA`, `ID_PROVEEDOR`) VALUES (18, 'Colifor', 'Coliflor de Murcia', 'null', 'a', '7.5/10', 500, 3.80, 1, 1);
INSERT INTO `PRODUCTOS` (`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `VALORACION`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_CATEGORIA`, `ID_PROVEEDOR`) VALUES (19, 'Calabacin', 'Calabacin de Almeria', 'null', 'a', '7/10', 600, 0.50, 1, 1);
INSERT INTO `PRODUCTOS` (`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `VALORACION`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_CATEGORIA`, `ID_PROVEEDOR`) VALUES (20, 'Berenjena', 'Berenjenas de Almeria', 'null', 'a', '8.5/10', 800, 0.90, 1, 1);
INSERT INTO `PRODUCTOS` (`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `VALORACION`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_CATEGORIA`, `ID_PROVEEDOR`) VALUES (21, 'Queso Grana Padano', 'Queso procedente de Padana Italia', 'null', 'a', '6/10', 800, 3.00, 3, 3);
INSERT INTO `PRODUCTOS` (`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `VALORACION`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_CATEGORIA`, `ID_PROVEEDOR`) VALUES (22, 'Leche Asturiana', 'Leche procedencia de Asturias', 'null', 'a', '7/10', 300, 1.40, 3, 3);
INSERT INTO `PRODUCTOS` (`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `VALORACION`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_CATEGORIA`, `ID_PROVEEDOR`) VALUES (23, 'Arroz de Pals', 'Arroz procedencia de Pals', 'null', 'a', '7/10', 500, 3.80, 3, 3);
INSERT INTO `PRODUCTOS` (`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `VALORACION`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_CATEGORIA`, `ID_PROVEEDOR`) VALUES (24, 'Jamon Serrano', 'Jamon Serrano el Pozo', 'null', 'a', '6.5/10', 600, 6.80, 3, 3);
INSERT INTO `PRODUCTOS` (`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `VALORACION`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_CATEGORIA`, `ID_PROVEEDOR`) VALUES (25, 'Jamon York', 'Jamon York el Pozo', 'null', 'a', '8/10', 200, 2.00, 3, 3);
INSERT INTO `PRODUCTOS` (`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `VALORACION`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_CATEGORIA`, `ID_PROVEEDOR`) VALUES (26, 'Pasta Barilla', 'Pasta Procedencia Italiana', 'null', 'a', '6.5/10', 400, 2.00, 3, 3);
INSERT INTO `PRODUCTOS` (`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `VALORACION`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_CATEGORIA`, `ID_PROVEEDOR`) VALUES (27, 'Miel', 'Madrid Miel', 'null', 'a', '7.5/10', 200, 6.90, 3, 3);
INSERT INTO `PRODUCTOS` (`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `VALORACION`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_CATEGORIA`, `ID_PROVEEDOR`) VALUES (28, 'Nueces', 'Nueces de Cataluña', 'null', 'a', '7.5/10', 800, 0.10, 3, 3);
INSERT INTO `PRODUCTOS` (`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `VALORACION`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_CATEGORIA`, `ID_PROVEEDOR`) VALUES (29, 'Almendras', 'Almendras de Andalucia', 'null', 'a', '9/10', 500, 0.30, 3, 3);
INSERT INTO `PRODUCTOS` (`ID_PRODUCTO`, `NOMBRE`, `DESCRIPCION`, `IMAGEN`, `ESTADO`, `VALORACION`, `CANTIDAD_MAXIMA`, `PRECIO_UNITARIO`, `ID_CATEGORIA`, `ID_PROVEEDOR`) VALUES (30, 'Cacahuetes', 'Cacahuetes de Huelva', 'null', 'a', '8.5/10', 600, 0.15, 3, 3);

CREATE TABLE CUENTA_USUARIO
(ID_CUENTA INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
NOMBRE VARCHAR(100),
APELLIDO VARCHAR(100),
NUMERO_TARGETA VARCHAR(100),
SALDO DOUBLE(9,2)
);

INSERT INTO `CUENTA_USUARIO`(`ID_CUENTA`, `NOMBRE`, `APELLIDO`, `NUMERO_TARGETA`, `SALDO`) VALUES (1, 'Gerard', 'Perujo', '5812-6985-1475-3325', 2000);
INSERT INTO `CUENTA_USUARIO`(`ID_CUENTA`, `NOMBRE`, `APELLIDO`, `NUMERO_TARGETA`, `SALDO`) VALUES (2, 'Maria', 'Isabel', '0325-5598-4415-7852', 3000);
INSERT INTO `CUENTA_USUARIO`(`ID_CUENTA`, `NOMBRE`, `APELLIDO`, `NUMERO_TARGETA`, `SALDO`) VALUES (3, 'Noelia', 'Villahermosa', '9852-5147-9856-3625', 4000);


CREATE TABLE USUARIOS
(
USERNAME VARCHAR(45) NOT NULL PRIMARY KEY,
PASSWORD VARCHAR(200) NOT NULL,
NOMBRE VARCHAR(50),
PRIMER_APELLIDO VARCHAR(50),
SEGUNDO_APELLIDO VARCHAR(50),
POBLACION VARCHAR(100),
CALLE VARCHAR(100),
NUMERO VARCHAR(100),
CP INT,
EMAIL VARCHAR(100),
FOTO VARCHAR(200),
ESTADO VARCHAR(50) NOT NULL DEFAULT 'a', -- ESTE ESTADO "A" , "D", PARA CONTROLAR LOS USUARIOS QUE TENEMOS ACTIVOS--
FECHA_REGISTRO DATE,
ID_CUENTA INT,
FOREIGN KEY (ID_CUENTA) REFERENCES CUENTA_USUARIO(ID_CUENTA)
);

INSERT INTO `USUARIOS` (`USERNAME`,`PASSWORD`,`NOMBRE`,`PRIMER_APELLIDO`,`SEGUNDO_APELLIDO`,`POBLACION`,`CALLE`,`NUMERO`,`CP`,`EMAIL`,`FOTO`,`ESTADO`,`FECHA_REGISTRO`,`ID_CUENTA`) VALUES ('Geri','{noop}geri','Gerard','Perujo','Buxeda','Puigcerda','Mont-cerda','nº1 bajo 1',17520,'ger.pe85@gmail.com','null','a','2024-03-14', 1);
INSERT INTO `USUARIOS` (`USERNAME`,`PASSWORD`,`NOMBRE`,`PRIMER_APELLIDO`,`SEGUNDO_APELLIDO`,`POBLACION`,`CALLE`,`NUMERO`,`CP`,`EMAIL`,`FOTO`,`ESTADO`,`FECHA_REGISTRO`,`ID_CUENTA`) VALUES ('Mari','{noop}mari','Maria','Isabel','Martín','Madrid','Avenida FelipeVI','nº300 segundo 3',28001,'mar.Isab@gmail.com','null','a','2024-03-14', 2);
INSERT INTO `USUARIOS` (`USERNAME`,`PASSWORD`,`NOMBRE`,`PRIMER_APELLIDO`,`SEGUNDO_APELLIDO`,`POBLACION`,`CALLE`,`NUMERO`,`CP`,`EMAIL`,`FOTO`,`ESTADO`,`FECHA_REGISTRO`,`ID_CUENTA`) VALUES ('Noeli','{noop}noeli','Noelia','Villahermosa','Garcia','Ciudad Real','Avenida España','nº200 quarto 3',13001,'noe.villa@gmail.com','null','a','2024-03-14', 3);


CREATE TABLE COMPRAS
(ID_COMPRA INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
ID_PRODUCTO INT NOT NULL,
USERNAME VARCHAR(45) NOT NULL,
PRECIO_PRODUCTO DOUBLE(9,2), -- PRECIO UNITARIO MAS LA CANTIDAD QUE DESEAMOS COMPRAR --
PRECIO_TOTAL DOUBLE(9,2), -- PRECIO TOTAL DE TODOS LOS PRODUCTOS QUE ESTEN ACTIVOS (PRODUCTOS POR COMPRAR) --
CANTIDAD INT, -- CANTIDAD DE CADA PRODUCTO QUE COMPRAMOS --
ESTADO VARCHAR(100), -- ESTE ESTADO "A" , "D",  ES PARA DISCRIMINAR DE LOS ELEMENTOS COMPRADOS A LOS QUE FALTAN POR COMPRAR--
FOREIGN KEY(USERNAME) REFERENCES USUARIOS(USERNAME),
FOREIGN KEY(ID_PRODUCTO) REFERENCES PRODUCTOS(ID_PRODUCTO)
);

CREATE TABLE PEDIDOS
(ID_PEDIDO INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
USERNAME VARCHAR(45),
FECHA_PEDIDO DATE,
FOREIGN KEY(USERNAME) REFERENCES USUARIOS(USERNAME)
);

CREATE TABLE CUENTA_EMPRESA
(ID_CUENTA INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
NOMBRE VARCHAR(100),
NUMERO_CUENTA VARCHAR(100),
SALDO DOUBLE(9,2)
);

INSERT INTO `CUENTA_EMPRESA`(`ID_CUENTA`, `NOMBRE`, `NUMERO_CUENTA`, `SALDO`) VALUES (1, 'Banco Santander', 'ES65-2100-10-0000126589', 50000);

CREATE TABLE EMPRESA
(ID_EMPRESA INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
NOMBRE VARCHAR(100),
POBLACION VARCHAR(100),
CALLE VARCHAR(100),
NUMERO INT,
CP INT,
EMAIL VARCHAR(100),
FECHA_ALTA DATE,
ID_CUENTA INT,
FOREIGN KEY(ID_CUENTA) REFERENCES CUENTA_EMPRESA(ID_CUENTA)
);

INSERT INTO `EMPRESA`(`ID_EMPRESA`,`NOMBRE`,`POBLACION`,`CALLE`,`NUMERO`,`CP`,`EMAIL`,`FECHA_ALTA`,`ID_CUENTA`) VALUES (1,'FrutasYVerdurasPeco','Madrid','Calle Atocha', 120, 28001, 'frutasVerdurasPeco@info.com', '2024-03-18', 1);
 
CREATE TABLE COMPRAS_PEDIDOS
(ID_COMPRAS_PEDIDOS INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
ID_PEDIDO INT NOT NULL,
ID_COMPRA INT NOT NULL,
ID_CUENTA INT NOT NULL,
PRECIO_TOTAL DOUBLE(9,2),
FOREIGN KEY(ID_PEDIDO) REFERENCES PEDIDOS(ID_PEDIDO),
FOREIGN KEY (ID_COMPRA) REFERENCES COMPRAS(ID_COMPRA),
FOREIGN KEY (ID_CUENTA) REFERENCES CUENTA_EMPRESA(ID_CUENTA)
);


-- TABLAS PARA LOGIN, LOGOUT y REGISTRO o  SPRING SECURITY 

CREATE TABLE PERFILES
(ID_PERFIL INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
NOMBRE VARCHAR(45) NOT NULL
);
INSERT INTO `PERFILES` (`ID_PERFIL`,`NOMBRE`) VALUES (1,'ROLE_ADMINISTRADOR');
INSERT INTO `PERFILES` (`ID_PERFIL`,`NOMBRE`) VALUES (2,'ROLE_GESTOR');
INSERT INTO `PERFILES` (`ID_PERFIL`,`NOMBRE`) VALUES (3,'ROLE_CLIENTE');

CREATE TABLE USUARIO_PERFILES
(USERNAME VARCHAR(45) NOT NULL,
ID_PERFIL INT NOT NULL,
PRIMARY KEY(USERNAME, ID_PERFIL),
FOREIGN KEY(USERNAME) REFERENCES USUARIOS(USERNAME),
FOREIGN KEY(ID_PERFIL) REFERENCES PERFILES(ID_PERFIL)
);

INSERT INTO `USUARIO_PERFILES` (`USERNAME`,`ID_PERFIL`) VALUES ('Geri',1);
INSERT INTO `USUARIO_PERFILES` (`USERNAME`,`ID_PERFIL`) VALUES ('Mari',1);
INSERT INTO `USUARIO_PERFILES` (`USERNAME`,`ID_PERFIL`) VALUES ('Noeli',1);




